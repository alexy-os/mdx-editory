# Rich Editor

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –±–ª–æ–≥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ TipTap —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Markdown/MDX —Ñ–∞–π–ª–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å WordPress —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä** –Ω–∞ –æ—Å–Ω–æ–≤–µ TipTap —Å –±–æ–≥–∞—Ç—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- üìù **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown/MDX** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º frontmatter
- üåô **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π dark: –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
- üìä **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏** —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π slug, excerpt, id
- üëÄ **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- üìÅ **–ú–µ–Ω–µ–¥–∂–µ—Ä —Ñ–∞–π–ª–æ–≤** —Å drag & drop –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- üíæ **–≠–∫—Å–ø–æ—Ä—Ç –≤ MDX** —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WordPress** —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd packages/rich
bun install
```

## –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
bun run dev
```

## –°–±–æ—Ä–∫–∞

```bash
bun run build
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import { RichEditorApp } from '@editory/rich';
import '@editory/rich/styles';

function App() {
  return <RichEditorApp />;
}
```

### –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```tsx
import { 
  RichEditor, 
  PostMetaEditor, 
  MarkdownPreview, 
  FileManager 
} from '@editory/rich';

function MyEditor() {
  const [content, setContent] = useState('');
  const [meta, setMeta] = useState({});

  return (
    <div>
      <RichEditor 
        content={content}
        onChange={setContent}
        isDarkMode={true}
      />
      
      <PostMetaEditor
        meta={meta}
        onChange={setMeta}
      />
    </div>
  );
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
packages/rich/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/          # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RichEditor.tsx   # –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä TipTap
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PostMetaEditor.tsx # –†–µ–¥–∞–∫—Ç–æ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MarkdownPreview.tsx # –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FileManager.tsx  # –ú–µ–Ω–µ–¥–∂–µ—Ä —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RichEditorApp.tsx # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/               # React —Ö—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useEditor.ts     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useFileManager.ts # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useDarkMode.ts   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ types/               # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ editor.ts        # –¢–∏–ø—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post.ts          # WordPress Post —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ menu.ts          # WordPress Menu —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts         # –ü–∞—Ä—Å–∏–Ω–≥ MD, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug –∏ —Ç.–¥.
‚îÇ   ‚îú‚îÄ‚îÄ styles/              # –°—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.css        # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å Tailwind
‚îÇ   ‚îî‚îÄ‚îÄ ~data/               # –î–∞–Ω–Ω—ã–µ (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ       ‚îú‚îÄ‚îÄ context.json     # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ menu.json        # –ú–µ–Ω—é –¥–ª—è —Å–∞–π–¥–±–∞—Ä–∞
‚îî‚îÄ‚îÄ dist/                    # –°–±–æ—Ä–∫–∞
```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### Markdown —Ñ–∞–π–ª—ã (.md)
```markdown
---
title: "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏"
slug: "zagolovok-stati"
excerpt: "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
---

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–∞—Ç—å–∏

–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown.
```

### MDX —Ñ–∞–π–ª—ã (.mdx)
```mdx
---
title: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–∞—Ç—å—è"
slug: "interaktivnaya-statya"
categories: ["React", "MDX"]
---

import { CustomComponent } from './components';

# –°—Ç–∞—Ç—å—è —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

<CustomComponent prop="value" />
```

## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞

–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

- **title** - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏
- **slug** - URL slug (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ title)
- **id** - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
- **excerpt** - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

- **featuredImage** - –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **categories** - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- **date** - –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

## API

### useEditor Hook

```tsx
const { state, actions } = useEditor();

// state —Å–æ–¥–µ—Ä–∂–∏—Ç:
// - currentFile: —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª
// - files: —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
// - isPreviewOpen: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
// - isDarkMode: —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–º—ã
// - context: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
// - menu: –º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

// actions —Å–æ–¥–µ—Ä–∂–∏—Ç:
// - loadFile: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
// - saveFile: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
// - updateContent: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
// - updateMeta: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
// - togglePreview: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
// - toggleDarkMode: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
// - exportToMDX: —ç–∫—Å–ø–æ—Ä—Ç –≤ MDX
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WordPress

–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö WordPress:

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ WordPress Post —Ñ–æ—Ä–º–∞—Ç
const wordpressPost: Post = {
  title: meta.title,
  content: content,
  slug: meta.slug,
  id: meta.id,
  excerpt: meta.excerpt,
  featuredImage: meta.featuredImage,
  categories: meta.categories,
  date: formatDate(new Date()),
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è WordPress
};
```

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –¢–µ–º—ã

–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ Tailwind –∫–ª–∞—Å—Å—ã:

```css
/* –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–µ–º–∞ */
.my-editor-theme {
  --editor-bg: #f8f9fa;
  --editor-text: #212529;
  --editor-border: #dee2e6;
}

.dark .my-editor-theme {
  --editor-bg: #1a1d23;
  --editor-text: #e9ecef;
  --editor-border: #495057;
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏—è TipTap

```tsx
import { Extension } from '@tiptap/core';

const CustomExtension = Extension.create({
  name: 'customExtension',
  // –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
});

<RichEditor
  content={content}
  onChange={setContent}
  extensions={[CustomExtension]}
/>
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `bun install`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É: `bun run dev`
4. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT 